# タイトル画面 仕様書

## 要件

タイトル画面は以下の目的を達成する。

- ゲームの世界観を伝える（第一印象）
- プレイヤーがスムーズにゲームを開始できる
- 設定変更やセーブデータへのアクセス手段を提供する

## 仕様

### 画面基本仕様

| 項目 | 内容 |
|-----|------|
| 画面向き | 縦持ち（Portrait） |
| タイトルロゴ位置 | 画面上部 |
| ボタン配置 | 中央縦並び |
| ボタン形状 | 直角長方形 |
| 背景 | 都市ビジュアル（動きあり：パララックス、微細アニメーション等） |

### メニュー項目

| 項目 | 遷移先 | 備考 |
|-----|-------|------|
| 新規ゲーム | シナリオ選択画面 | - |
| 続きから | 最新セーブを直接ロード | 常に表示、セーブがない場合は非活性 |
| 設定 | モーダル表示 | 画面遷移なし |

## 設計

### UIシステム

uGUI（Canvas + UI要素）を採用する。

採用理由：
- モバイルゲームでの実績が豊富
- 情報・ドキュメントが多い
- アニメーションが扱いやすい
- 学習コストが低い

### シーン構成

専用シーン（TitleScene）を作成する。

### 画面遷移

SceneManager.LoadScene（標準）を使用する。

採用理由：
- シンプルで分かりやすい
- メモリ管理が自動
- MVP段階では十分な機能

## テストケース

### SaveDataChecker

セーブデータの存在確認ロジックをテストする。

| ID | テスト内容 | テスト技法 |
|----|-----------|-----------|
| SDC-001 | セーブデータが存在する場合、HasSaveDataがtrueを返す | 同値分割法 |
| SDC-002 | セーブデータが存在しない場合、HasSaveDataがfalseを返す | 同値分割法 |

### TitleMenuController

メニュー項目の状態管理をテストする。

| ID | テスト内容 | テスト技法 |
|----|-----------|-----------|
| TMC-001 | 初期化時、「新規ゲーム」ボタンが活性状態である | 状態テスト |
| TMC-002 | 初期化時、「設定」ボタンが活性状態である | 状態テスト |
| TMC-003 | セーブデータが存在する場合、「続きから」ボタンが活性状態である | 同値分割法 |
| TMC-004 | セーブデータが存在しない場合、「続きから」ボタンが非活性状態である | 同値分割法 |
| TMC-005 | 「新規ゲーム」ボタン押下時、OnNewGameSelectedイベントが発火する | 状態遷移テスト |
| TMC-006 | 「続きから」ボタン押下時（活性状態）、OnContinueSelectedイベントが発火する | 状態遷移テスト |
| TMC-007 | 「設定」ボタン押下時、OnSettingsSelectedイベントが発火する | 状態遷移テスト |

### TitleSceneTransition

画面遷移制御をテストする。

| ID | テスト内容 | テスト技法 |
|----|-----------|-----------|
| TST-001 | TransitionToScenarioSelectを呼び出すと、シナリオ選択シーンへ遷移する | 状態遷移テスト |
| TST-002 | TransitionToGameWithLatestSaveを呼び出すと、最新セーブでゲームシーンへ遷移する | 状態遷移テスト |
