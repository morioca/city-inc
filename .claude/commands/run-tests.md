`UnityNaturalMCP` 経由でテストを実行する。

## 適切なツールの選択

変更したクラスの名前空間またはアセンブリ名に「Editor」が含まれている場合は、`mcp__UnityNaturalMCP__RunEditModeTests` ツールを使用する。
変更したクラスの名前空間に「Editor」が含まれていない場合は、`mcp__UnityNaturalMCP__RunPlayModeTests` ツールを使用する。

## フィルターの指定

実行されるテストの数を最小限に抑えるため、フィルターは以下の順序で決定する。

1. **testNames**: 特定のテストのみが失敗している場合、または影響を受けるテストが限られた数のみである場合に指定する。
2. **groupNames**: 変更したクラスに対応するテストクラスを指定する。名前空間は変更したクラスと同じで、クラス名に「Test」が付加される。
3. **assemblyNames**: 変更したクラスを含むアセンブリに対応するテストアセンブリの名前を指定する。アセンブリ名に「.Tests」を追加して指定する。

## トラブルシューティング

ツールが接続エラーで失敗する場合は、以下の原因が考えられる。

- コンパイルなどによるドメインの再読み込みにより、接続が切断されている。しばらく待ってから再試行する。
- コンパイルエラーがある場合、Play Mode テストは実行できない。UnityNaturalMCPの `GetCompileLogs` コマンドを使用して、コンパイルエラーがないか確認する。
- 実行時間が長いため、テストがタイムアウトしている可能性がある。フィルター設定を確認して実行するテストを絞り込むか、ユーザーにタイムアウト設定を長くするよう依頼する。
